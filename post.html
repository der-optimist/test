<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head>
  <title>TV-Sendungen</title>
  <style type="text/css">
  .inline {
    display: inline;
  }

  .link-button {
    background: none;
    border: none;
    color: blue;
    text-decoration: underline;
    cursor: pointer;
    font-size: 1em;
    font-family: serif;
  }
  .link-button:focus {
    outline: none;
  }
  .link-button:active {
    color:red;
  }
  </style>
</head>

<body>
<h1>Ãœberschrift</h1>

<a href="some_page">This is a regular link</a>

<form method="post" action="http://kodi-wz-2.fritz.box:8080/jsonrpc" class="inline">
  <input type="hidden" name="extra_submit_param" value="extra_submit_value">
  <button type="submit" name="request" value="{"jsonrpc":"2.0","id":"1","method":"Player.Open","params":{"item":{"file":"/var/media/Toshiba4T/TVSendungen/2017-05-20%20-%20Lola%20rennt.mp4"}}}" class="link-button">
    This is a link that sends a POST request
  </button>
</form>

<form style="display: none" action='http://kodi-wz-2.fritz.box:8080/jsonrpc?request={"jsonrpc":"2.0","id":"1","method":"Player.Open","params":{"item":{"file":"/var/media/Toshiba4T/TVSendungen/2017-05-20%20-%20Lola%20rennt.mp4"}}}' method="post">
  <button type="submit" id="button_to_link"> </button>
</form>
<label style="text-decoration: underline" for="button_to_link">  link that posts </label

<form action="http://kodi-wz-2.fritz.box:8080/jsonrpc" method="POST">
	<input type="text" name="login">
	<input type="password" name="password">
	<input type="submit" value="Submit">
</form>

<h1>php</h1>

<?php

$url = "http://kodi-wz-2.fritz.box:8080/jsonrpc";

$curl = curl_init($url);
curl_setopt($curl, CURLOPT_URL, $url);
curl_setopt($curl, CURLOPT_POST, true);
curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);

$headers = array(
   "Content-Type: application/json",
);
curl_setopt($curl, CURLOPT_HTTPHEADER, $headers);

$data = '{"jsonrpc":"2.0","id":"1","method":"Player.Open","params":{"item":{"file":"/var/media/Toshiba4T/TVSendungen/2017-05-20 - Lola rennt.mp4"}}}';

curl_setopt($curl, CURLOPT_POSTFIELDS, $data);

//for debug only!
curl_setopt($curl, CURLOPT_SSL_VERIFYHOST, false);
curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false);

$resp = curl_exec($curl);
curl_close($curl);
var_dump($resp);

?>

<h1>js</h1>

<script language="javascript"> 

   function DoPost(){
    var url = "http://kodi-wz-2.fritz.box:8080/jsonrpc";

    var xhr = new XMLHttpRequest();
    xhr.open("POST", url);

    xhr.setRequestHeader("Content-Type", "application/json");
    xhr.setRequestHeader("Access-Control-Allow-Origin", "http://kodi-wz-2.fritz.box");
    xhr.setRequestHeader("Access-Control-Allow-Methods", "GET, POST, PATCH, PUT, DELETE, OPTIONS");
    xhr.setRequestHeader("Access-Control-Allow-Headers", "Origin, Content-Type, X-Auth-Token");

    xhr.onreadystatechange = function () {
       if (xhr.readyState === 4) {
          console.log(xhr.status);
          console.log(xhr.responseText);
       }};

    var data = '{"jsonrpc":"2.0","id":"1","method":"Player.Open","params":{"item":{"file":"/var/media/Toshiba4T/TVSendungen/2017-05-20 - Lola rennt.mp4"}}}';

    xhr.send(data);
   }

</script>
<a href="javascript:DoPost()">Click Here</A> 


<h1>js3</h1>



<script type="text/javascript" language="javascript">
  function post_link_2(){
const data = {"jsonrpc":"2.0","id":"1","method":"Player.Open","params":{"item":{"file":"/var/media/Toshiba4T/TVSendungen/2017-05-20 - Lola rennt.mp4"}}}

fetch('http://kodi-wz-2.fritz.box:8080/jsonrpc', {
  method: 'POST', // The method
  mode: 'no-cors', // It can be no-cors, cors, same-origin
  credentials: 'same-origin', // It can be include, same-origin, omit
  headers: {
    'Content-Type': 'application/json', // Your headers
  },
  body: JSON.stringify(data),
}).then(returnedData => {
  // Do whatever with returnedData
}).catch(err => {
  // In case it errors.
});
  }
</script>

<a href="javascript:post_link_2()">Click Here</A> 

</body>
</html>

